window.onload = function() {

var questionArea = document.getElementsByClassName('questions')[0],
    answerArea = document.getElementsByClassName('answers')[0],
    checker = document.getElementsByClassName('checker')[0],
    current = 0,

    allQuestions = {
        '68470': ['66503', '68470', '68426', '66557', '53697', 1],
        '53543': ['56588', '53800', '59059', '53543', '59513', 3],
        '61321': ['91980', '72060', '61390', '66167', '61321', 4],
        '62422': ['85033', '63805', '94665', '67686', '62422', 4],
        '56019': ['60207', '57255', '59346', '56019', '93583', 3],
        '56949': ['56657', '56949', '56943', '32273', '50296', 1],
        '46535': ['91365', '49033', '46314', '46535', '64427', 3],
        '86061': ['84787', '96852', '89163', '86061', '61298', 3],
        '11025': ['19853', '11025', '58294', '17317', '11028', 1],
        '17193': ['17193', '41824', '11216', '17115', '23408', 0],
        
        '387095': ['358977', '387095', '875985', '383498', '230581', 1],
        '255631': ['255609', '208636', '255631', '456907', '278052', 2],
        '321588': ['321588', '793530', '325388', '384163', '324117', 0],
        '142756': ['144756', '142756', '633794', '142332', '765277', 1],
        '243531': ['243531', '815831', '254851', '248250', '772711', 0],
        '441240': ['441292', '741240', '105775', '448483', '441240', 4],
        '112085': ['408043', '121085', '767151', '111738', '112085', 4],
        '170031': ['744306', '170031', '818335', '174383', '129297', 1],
        '168069': ['618446', '168707', '163042', '168069', '710036', 3],
        '299903': ['999512', '787243', '299903', '557406', '266603', 2],
        
        '9844001': ['5792294', '9844001', '9844100', '3940395', '9844101', 1],
        '8801371': ['8801371', '2621622', '8885282', '3889971', '8883258', 0],
        '6615118': ['6615118', '6668789', '5366601', '6490012', '1320750', 0],
        '4378471': ['1228471', '4417902', '4378471', '4869022', '4858998', 2],
        '5825328': ['3587478', '5823340', '5825328', '5822457', '7643694', 2],
        '4567255': ['7819330', '4567255', '5457221', '4978846', '4567552', 1],
        '4907620': ['4907620', '1527657', '4907578', '9409403', '1682500', 0],
        '6721293': ['8642531', '6688883', '6721295', '6251139', '6721293', 4],
        '5716434': ['6209673', '3948334', '5716434', '5724656', '5738319', 2],
        '9356349': ['9356349', '7746636', '9987349', '9624800', '9350890', 0],
        
        '57563478': ['57563478', '19563856', '53663546', '57839183', '95816150', 0],
        '27988416': ['27988404', '72971492', '86341335', '27988416', '55867782', 3],
        '85413637': ['95957857', '85476687', '90194415', '85413637', '57702020', 3],
        '45327117': ['63657389', '41392428', '45841220', '89667897', '45327117', 4],
        '69829767': ['68929767', '69829676', '36835292', '69829767', '47986688', 3],
        '61521503': ['61521503', '36888820', '63225540', '41536138', '28717727', 0],
        '79615041': ['79615041', '72048052', '59157495', '41311169', '78874458', 0],
        '85805934': ['85805934', '53439701', '96585934', '85985657', '72096491', 0],
        '54761976': ['62080345', '64690873', '78313425', '14533641', '54761976', 4],
        '25626865': ['21615892', '83345215', '64768883', '25626865', '28557314', 3],
        
        '986733757': ['384487985', '986733757', '620183984', '986743757', '968733757', 1],
        '150234517': ['831129512', '150235534', '150234517', '714712646', '343515023', 2],
        '409526347': ['409526347', '409589461', '450226733', '409526437', '946882334', 0],
        '230840849': ['230840849', '238443647', '208545949', '894836724', '204908147', 0],
        '536047793': ['848736754', '287577934', '688184528', '536047793', '360166793', 3],
        '271703741': ['484844634', '271703741', '271073741', '823969813', '271703714', 1],
        '504308244': ['539091896', '504186752', '151848733', '575186725', '504308244', 4],
        '974849140': ['974849140', '816701990', '979852736', '994182259', '984749140', 0],
        '423857580': ['477817264', '423857580', '758813774', '423587580', '712663925', 1],
        '893230344': ['621122138', '893230344', '344762625', '893330344', '416168558', 1],
        
        '4748060985': ['4725660985', '1963622937', '4748560986', '3697039953', '4748060985', 4],
        '1910313759': ['1915889894', '9110803750', '7176846536', '6333624975', '1910313759', 4],
        '5097927000': ['3855471562', '5997927000', '5099727000', '2024280865', '5097927000', 4],
        '5361598512': ['5364130300', '5361595812', '3698458102', '5361598512', '5914146550', 3],
        '5794452332': ['5744452332', '3487550309', '5281978549', '5914424121', '5794452332', 4],
        '5473698058': ['1473698058', '5425398121', '5473698058', '8543176355', '3415056503', 2],
        '9800015588': ['9852705683', '9800015588', '5881899223', '7980178770', '9687372177', 1],
        '6688307064': ['8826419678', '6688307064', '6620186476', '9988307064', '9061051465', 1],
        '1425784462': ['1420882520', '4425781925', '1425782298', '6803977701', '1425784462', 4],
        '3650995807': ['3650995807', '3870090687', '3393290644', '3657687381', '1845242749', 0]
    };


    function loadQuestion(curr) {
  // This function loads all the question into the questionArea
  // It grabs the current question based on the 'current'-variable
  
    var question = Object.keys(allQuestions)[curr];
    
    questionArea.innerHTML = '';
    questionArea.innerHTML = question;    
  }
  
  function loadAnswers(curr) {
  // This function loads all the possible answers of the given question
  // It grabs the needed answer-array with the help of the current-variable
  // Every answer is added with an 'onclick'-function
  
    var answers = allQuestions[Object.keys(allQuestions)[curr]];
    
    answerArea.innerHTML = '';
    
    for (var i = 0; i < answers.length -1; i += 1) {
      var createDiv = document.createElement('div'),
          text = document.createTextNode(answers[i]);
      
      createDiv.appendChild(text);      
      createDiv.addEventListener("click", checkAnswer(i, answers));
      
      
      answerArea.appendChild(createDiv);
    }
  }
  
  function checkAnswer(i, arr) {
    // This is the function that will run, when clicked on one of the answers
    // Check if givenAnswer is sams as the correct one
    // After this, check if it's the last question:
    // If it is: empty the answerArea and let them know it's done.
    
    return function () {
      var givenAnswer = i,
          correctAnswer = arr[arr.length-1];
      
      if (givenAnswer === correctAnswer) {
        addChecker(true);             
      } else {
        addChecker(false);                        
      }
      
      if (current < Object.keys(allQuestions).length -1) {
        current += 1;
        
        loadQuestion(current);
        loadAnswers(current);
      } else {
        questionArea.innerHTML = 'Done!';
        answerArea.innerHTML = '';
      }
                              
    };
  }
  
  function addChecker(bool) {
  // This function adds a div element to the page
  // Used to see if it was correct or false
  
    var createDiv = document.createElement('div'),
        txt       = document.createTextNode(current + 1);
    
    createDiv.appendChild(txt);
    
    if (bool) {
      
      createDiv.className += 'correct';
      checker.appendChild(createDiv);
    } else {
      createDiv.className += 'false';
      checker.appendChild(createDiv);
    }
  }
  
  loadQuestion(current);
  loadAnswers(current);

};