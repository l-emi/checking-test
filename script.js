window.onload = function() {

var questionArea = document.getElementsByClassName('questions')[0],
    answerArea = document.getElementsByClassName('answers')[0],
    checker = document.getElementsByClassName('checker')[0],
    current = 0,

    allQuestions = {
        '68470': ['56503', '68470', '94921', '26557', '53697', 1],
        '53543': ['26188', '57800', '19059', '53543', '89513', 3],
        '61321': ['91980', '72060', '42490', '79767', '61321', 4],
        '62422': ['85033', '83805', '94155', '47686', '62422', 4],
        '56019': ['60207', '27252', '99346', '56019', '93583', 3],
        '56949': ['66657', '56949', '27583', '32273', '50296', 1],
        '46535': ['91365', '19033', '76314', '46535', '64427', 3],
        '86061': ['84787', '96852', '39163', '86061', '61298', 3],
        '11025': ['79853', '11025', '58294', '17317', '76648', 1],
        '17193': ['17193', '41824', '21216', '59215', '23408', 0],
        
        '639649': ['458912', '325106', '522113', '639649', '458334', '166136', 3],
        '816542': ['951454', '174634', '136462', '816542', '566900', '809414', 3],
        '262173': ['425260', '887143', '525633', '697810', '856355', '262173', 5],
        '874240': ['650824', '226769', '874240', '686983', '729685', '710930', 2],
        '272837': ['245419', '907982', '666730', '272837', '759569', '139519', 3],
        '876093': ['727857', '409424', '367386', '920337', '876093', '942875', 4],
        '907396': ['762807', '178863', '853603', '860577', '907396', '462267', 4],
        '745995': ['860970', '875023', '745995', '674737', '164791', '124473', 2],
        '876332': ['876332', '305765', '769217', '931815', '409125', '956626', 0],
        '297366': ['830645', '454242', '106878', '297366', '771346', '598537', 3],
        
        '5798950': ['6069314', '7127320', '6619279', '6897421', '2326342', '9961116', '5798950', 6],
        '5933196': ['5006989', '9207185', '7537364', '1272657', '9200295', '5933196', '5310084', 5],
        '5400978': ['9066615', '1583932', '5400978', '8523923', '7353298', '5587194', '8240723', 2],
        '5736034': ['6523314', '9196191', '2584446', '8008873', '5736034', '8012768', '8897138', 4],
        '7484920': ['1656881', '1146903', '7854113', '3338135', '7484920', '6124893', '4972187', 4],
        '3557194': ['3913586', '3557194', '4822015', '7275014', '7150377', '4665878', '3028872', 1],
        '9817403': ['9592812', '7933741', '3872514', '2892437', '7877715', '9152735', '9817403', 6],
        '4275798': ['8896890', '4275798', '4314344', '9951838', '9106156', '5154487', '1339720', 1],
        '2507273': ['7366142', '9546978', '3194406', '5308961', '9031969', '2507273', '2826491', 5],
        '9003504': ['1519633', '8969673', '8521691', '2666452', '1882893', '9003504', '8902884', 5],
        
        '49747435': ['29403044', '26380366', '25761509', '26746073', '52421190', '47452133', '49747435', '27212193', 6],
        '60590480': ['41285552', '17827477', '75355262', '78034042', '79399720', '60590480', '31496550', '37776309', 5],
        '28670444': ['61530438', '48500477', '94930601', '82582148', '50563160', '32517417', '28670444', '16875626', 6],
        '35259602': ['35259602', '35503661', '53239479', '81741770', '45899555', '30989611', '88755095', '75569487', 0],
        '13535525': ['41640085', '13535525', '74464769', '43930907', '16000268', '48609838', '93422991', '51586707', 1],
        '71702467': ['24568915', '63155415', '21225550', '28483403', '33214411', '29308883', '71702467', '79251099', 6],
        '41753609': ['28645785', '48187205', '41753609', '83517182', '57269563', '31409022', '24565601', '52825136', 2],
        '16884976': ['98046536', '16884976', '99906872', '85476665', '29622682', '24795502', '89738145', '26606557', 1],
        '68663756': ['66631123', '60289232', '19615463', '36707385', '78447033', '91024134', '25771893', '68663756', 7],
        '81872970': ['81872970', '77268110', '87959886', '12796903', '21755038', '16919648', '16297302', '59243270', 0],
        
        '820587245': ['153132669', '653033821', '438893642', '432747571', '820587245', '886333284', '304530971', '825030874', '621693946', 4],
        '332262942': ['381174886', '675756505', '637221332', '816103816', '582976723', '341745301', '332262942', '955354735', '385569149', 6],
        '792245046': ['709708650', '810062608', '806220633', '745666380', '986832077', '792245046', '364365443', '996411046', '920244813', 5],
        '977047924': ['418852083', '977047924', '984200884', '831248731', '765540596', '606273858', '389045946', '360881475', '721057530', 1],
        '713423120': ['287324829', '713423120', '182108870', '711793616', '530637761', '524922132', '226587807', '247497409', '666262990', 1],
        '402942296': ['803827507', '350075764', '530307540', '402942296', '131830715', '735815501', '143799896', '299617519', '416591878', 3],
        '254812411': ['254812411', '517437722', '899695154', '708787710', '456759857', '248894622', '389290005', '189518610', '689314408', 0],
        '615833909': ['968702913', '311765101', '279280262', '968914377', '304501536', '379220531', '615833909', '832142162', '687157475', 6],
        '441294132': ['862384035', '498588070', '973436005', '214628639', '787345578', '295386516', '549422889', '441294132', '331636200', 7],
        '674179096': ['609588660', '674179096', '637787145', '220615942', '332781817', '523128412', '304658987', '740860957', '797667595', 1],
        
        '3232239425': ['6600873152', '9942513762', '6182839786', '9237639652', '2754080864', '1445391816', '8667980670', '3232239425', '6457073666', '9021026449', 7],
        '4938172491': ['2140789351', '6231341147', '8353082220', '4938172491', '5641376230', '9748961431', '5477931908', '1263465352', '3493731538', '3335689067', 3],
        '4243759206': ['3342218184', '4243759206', '3178921550', '8912512313', '7282683234', '4078465127', '4361879937', '3973110081', '4219298203', '7842650231', 1],
        '4437807374': ['6390156078', '1546302328', '1178483366', '7258873848', '4437807374', '7575781999', '5530248161', '7067549559', '8762532759', '4735586223', 4],
        '3859968842': ['3859968842', '3452024653', '8849454713', '7937160633', '9861059485', '7845789637', '7013095900', '8487490301', '7828353000', '1024735272', 0],
        '4570019162': ['5886119790', '6704739882', '7858672736', '1549269248', '8504332080', '7123137605', '1418003159', '4570019162', '6916419269', '3976681428', 7],
        '4933498798': ['9102319670', '7131983429', '7720322979', '4933498798', '4027318760', '1748117925', '5167319689', '8205256660', '9531699045', '8616957861', 3],
        '9595307627': ['6624798286', '9673529035', '9595307627', '8649919845', '6493280163', '3376779950', '9300740849', '6411094835', '5182379411', '7899849678', 2],
        '7264571768': ['5448510957', '6662486711', '9268809359', '3286070505', '8847828051', '5411875891', '6353981031', '7264571768', '7968760192', '1240331270', 7],
        '7101011193': ['6717568627', '7101011193', '8790685102', '8360824938', '4236612441', '8257541302', '1413092273', '8899702452', '9581588400', '6014118888', 1] 
    };


    function loadQuestion(curr) {
  // This function loads all the question into the questionArea
  // It grabs the current question based on the 'current'-variable
  
    var question = Object.keys(allQuestions)[curr];
    
    questionArea.innerHTML = '';
    questionArea.innerHTML = question;    
  }
  
  function loadAnswers(curr) {
  // This function loads all the possible answers of the given question
  // It grabs the needed answer-array with the help of the current-variable
  // Every answer is added with an 'onclick'-function
  
    var answers = allQuestions[Object.keys(allQuestions)[curr]];
    
    answerArea.innerHTML = '';
    
    for (var i = 0; i < answers.length -1; i += 1) {
      var createDiv = document.createElement('div'),
          text = document.createTextNode(answers[i]);
      
      createDiv.appendChild(text);      
      createDiv.addEventListener("click", checkAnswer(i, answers));
      
      
      answerArea.appendChild(createDiv);
    }
  }
  
  function checkAnswer(i, arr) {
    // This is the function that will run, when clicked on one of the answers
    // Check if givenAnswer is sams as the correct one
    // After this, check if it's the last question:
    // If it is: empty the answerArea and let them know it's done.
    
    return function () {
      var givenAnswer = i,
          correctAnswer = arr[arr.length-1];
      
      if (givenAnswer === correctAnswer) {
        addChecker(true);             
      } else {
        addChecker(false);                        
      }
      
      if (current < Object.keys(allQuestions).length -1) {
        current += 1;
        
        loadQuestion(current);
        loadAnswers(current);
      } else {
        questionArea.innerHTML = 'Done!';
        answerArea.innerHTML = '';
      }
                              
    };
  }
  
  function addChecker(bool) {
  // This function adds a div element to the page
  // Used to see if it was correct or false
  
    var createDiv = document.createElement('div'),
        txt       = document.createTextNode(current + 1);
    
    createDiv.appendChild(txt);
    
    if (bool) {
      
      createDiv.className += 'correct';
      checker.appendChild(createDiv);
    } else {
      createDiv.className += 'false';
      checker.appendChild(createDiv);
    }
  }
  
  loadQuestion(current);
  loadAnswers(current);

};