window.onload = function() {

var questionArea = document.getElementsByClassName('questions')[0],
    answerArea = document.getElementsByClassName('answers')[0],
    checker = document.getElementsByClassName('checker')[0],
    current = 0,

    allQuestions = {
        '68470': ['56503', '68470', '94921', '26557', '53697', 1],
        '53543': ['26188', '57800', '19059', '53543', '89513', 3],
        '61321': ['91980', '72060', '42490', '79767', '61321', 4],
        '62422': ['85033', '83805', '94155', '47686', '62422', 4],
        '56019': ['60207', '27252', '99346', '56019', '93583', 3],
        '56949': ['66657', '56949', '27583', '32273', '50296', 1],
        '46535': ['91365', '19033', '76314', '46535', '64427', 3],
        '86061': ['84787', '96852', '39163', '86061', '61298', 3],
        '11025': ['79853', '11025', '58294', '17317', '76648', 1],
        '17193': ['17193', '41824', '21216', '59215', '23408', 0],
        
        '387095': ['658977', '387095', '875985', '883498', '230581', 1],
        '255631': ['106609', '708636', '255631', '456907', '878052', 2],
        '321588': ['321588', '793530', '565388', '784163', '984117', 0],
        '142756': ['632632', '142756', '633794', '898332', '765277', 1],
        '243531': ['243531', '815831', '254851', '838250', '772711', 0],
        '441240': ['651692', '750413', '105775', '738483', '441240', 4],
        '112085': ['408043', '501398', '767151', '278738', '112085', 4],
        '170031': ['744306', '170031', '818335', '194383', '929297', 1],
        '168069': ['612446', '704707', '243042', '168069', '710036', 3],
        '299903': ['688512', '787243', '299903', '557406', '968113', 2],
        
        '9844001': ['5792294', '9844001', '5209763', '3940395', '8185311', 1],
        '8801371': ['8801371', '2621622', '7305282', '3049933', '5883258', 0],
        '6615118': ['6615118', '2068789', '5366601', '6490012', '1320750', 0],
        '4378471': ['1225725', '3417902', '4378471', '7869022', '4858998', 2],
        '5825328': ['3587478', '4533340', '5825328', '7972457', '7643694', 2],
        '4567255': ['7819330', '4567255', '5457221', '9978846', '8704965', 1],
        '4907620': ['4907620', '1527657', '2227578', '7409403', '1682500', 0],
        '6721293': ['8642531', '6688883', '5542581', '4251139', '6721293', 4],
        '5716434': ['6209673', '3948334', '5716434', '3724656', '3738319', 2],
        '9356349': ['9356349', '7746636', '2987010', '9624800', '5690890', 0],
        
        '57563478': ['57563478', '19430856', '93613546', '86839183', '95816150', 0],
        '27988416': ['21697604', '72971492', '86341335', '27988416', '55867782', 3],
        '85413637': ['95957857', '56476687', '90194415', '85413637', '57702020', 3],
        '45327117': ['63657389', '41392428', '56841220', '89667897', '45327117', 4],
        '69829767': ['46809852', '23687169', '36835292', '69829767', '47986688', 3],
        '61521503': ['61521503', '36888820', '13225540', '40836138', '28717727', 0],
        '79615041': ['79615041', '72048052', '59157495', '41311169', '78874458', 0],
        '85805934': ['85805934', '53439701', '96585350', '25985657', '72096491', 0],
        '54761976': ['62080345', '64690873', '78313425', '14533641', '54761976', 4],
        '25626865': ['21615892', '83345215', '64768883', '25626865', '18557314', 3],
        
        '986733757': ['384487985', '986733757', '620183984', '806008233', '158446307', 1],
        '150234517': ['831129512', '530505534', '150234517', '714712646', '343543902', 2],
        '409526347': ['409526347', '547289461', '750226733', '227099708', '946882334', 0],
        '230840849': ['230840849', '238443647', '824545949', '894836724', '904908147', 0],
        '536047793': ['848736754', '287511301', '688184528', '536047793', '360166384', 3],
        '271703741': ['484844634', '271703741', '312114605', '823969813', '922925372', 1],
        '504308244': ['539091896', '783327936', '151848733', '575186725', '504308244', 4],
        '974849140': ['974849140', '816701990', '979852736', '794182259', '206412476', 0],
        '423857580': ['477817264', '423857580', '758813774', '231734306', '712663925', 1],
        '893230344': ['621122138', '893230344', '344762625', '735453944', '416168558', 1],
        
        '4748060985': ['9483628748', '1963622937', '9725533120', '3697039953', '4748060985', 4],
        '1910313759': ['9945889894', '4617803750', '7176846536', '6333624975', '1910313759', 4],
        '5097927000': ['3855471562', '1396039736', '9685685588', '2024280865', '5097927000', 4],
        '5361598512': ['3234130300', '3663335048', '3698458102', '5361598512', '5914146550', 3],
        '5794452332': ['1832511819', '3487550309', '5281978549', '6915824121', '5794452332', 4],
        '5473698058': ['1167603256', '7425398121', '5473698058', '8543176355', '3415056503', 2],
        '9800015588': ['6052705683', '9800015588', '5881899223', '7980178770', '9687372177', 1],
        '6688307064': ['7826419678', '6688307064', '5320186476', '1318579733', '3061051465', 1],
        '1425784462': ['2740882520', '6592411925', '5286022988', '6803977701', '1425784462', 4],
        '3650995807': ['3650995807', '3870090687', '9393290644', '2227687381', '1845242749', 0]
    };


    function loadQuestion(curr) {
  // This function loads all the question into the questionArea
  // It grabs the current question based on the 'current'-variable
  
    var question = Object.keys(allQuestions)[curr];
    
    questionArea.innerHTML = '';
    questionArea.innerHTML = question;    
  }
  
  function loadAnswers(curr) {
  // This function loads all the possible answers of the given question
  // It grabs the needed answer-array with the help of the current-variable
  // Every answer is added with an 'onclick'-function
  
    var answers = allQuestions[Object.keys(allQuestions)[curr]];
    
    answerArea.innerHTML = '';
    
    for (var i = 0; i < answers.length -1; i += 1) {
      var createDiv = document.createElement('div'),
          text = document.createTextNode(answers[i]);
      
      createDiv.appendChild(text);      
      createDiv.addEventListener("click", checkAnswer(i, answers));
      
      
      answerArea.appendChild(createDiv);
    }
  }
  
  function checkAnswer(i, arr) {
    // This is the function that will run, when clicked on one of the answers
    // Check if givenAnswer is sams as the correct one
    // After this, check if it's the last question:
    // If it is: empty the answerArea and let them know it's done.
    
    return function () {
      var givenAnswer = i,
          correctAnswer = arr[arr.length-1];
      
      if (givenAnswer === correctAnswer) {
        addChecker(true);             
      } else {
        addChecker(false);                        
      }
      
      if (current < Object.keys(allQuestions).length -1) {
        current += 1;
        
        loadQuestion(current);
        loadAnswers(current);
      } else {
        questionArea.innerHTML = 'Done!';
        answerArea.innerHTML = '';
      }
                              
    };
  }
  
  function addChecker(bool) {
  // This function adds a div element to the page
  // Used to see if it was correct or false
  
    var createDiv = document.createElement('div'),
        txt       = document.createTextNode(current + 1);
    
    createDiv.appendChild(txt);
    
    if (bool) {
      
      createDiv.className += 'correct';
      checker.appendChild(createDiv);
    } else {
      createDiv.className += 'false';
      checker.appendChild(createDiv);
    }
  }
  
  loadQuestion(current);
  loadAnswers(current);

};